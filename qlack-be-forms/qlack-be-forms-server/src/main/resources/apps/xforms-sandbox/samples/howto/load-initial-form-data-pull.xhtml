<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xf="http://www.w3.org/2002/xforms"
      xmlns:xxf="http://orbeon.org/oxf/xml/xforms"
      xmlns:ev="http://www.w3.org/2001/xml-events">
    <head>
        <title>Pull initial form data from a service</title>
        <xf:model>

            <!-- User in which user data is collected -->
            <xf:instance id="user-data">
                <registration xmlns="">
                    <first-name/>
                    <last-name/>
                </registration>
            </xf:instance>

            <!-- Load initial data from a service -->
            <xf:send ev:event="xforms-model-construct-done" submission="load-data-submission"/>
            <xf:submission id="load-data-submission"
                               method="get" serialization="none"
                               resource="http://github.com/orbeon/orbeon-forms/raw/master/src/resources/apps/xforms-sandbox/samples/howto/load-initial-form-data-pull-instance.xml"
                               replace="instance" instance="user-data"/>

        </xf:model>
        <style type="text/css">
            .xforms-label { display: block; }
            fieldset { width: 15em; margin-top: 1em; }
        </style>
    </head>
    <body>
        <fieldset>
            <legend>Registration</legend>
            <xf:input ref="first-name">
                <xf:label>First name</xf:label>
            </xf:input>
            <xf:input ref="last-name">
                <xf:label>Last name</xf:label>
            </xf:input>
        </fieldset>
    </body>
</html>
