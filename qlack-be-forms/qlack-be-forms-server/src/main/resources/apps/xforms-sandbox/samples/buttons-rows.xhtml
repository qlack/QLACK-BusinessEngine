<!--
    Copyright (C) 2007 Orbeon, Inc.

    This program is free software; you can redistribute it and/or modify it under the terms of the
    GNU Lesser General Public License as published by the Free Software Foundation; either version
    2.1 of the License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
    without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    See the GNU Lesser General Public License for more details.

    The full text of the license is available at http://www.gnu.org/copyleft/lesser.html
-->
<xh:html xmlns:xf="http://www.w3.org/2002/xforms"
    xmlns:f="http://orbeon.org/oxf/xml/formatting"
    xmlns:xh="http://www.w3.org/1999/xhtml"
    xmlns:xxf="http://orbeon.org/oxf/xml/xforms"
    xmlns:widget="http://orbeon.org/oxf/xml/widget"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:xs="http://www.w3.org/2001/XMLSchema">

    <xh:head>
        <xh:title>Rows of Radio Buttons and Checkboxes</xh:title>
        <xf:model>
            <xf:instance id="form-instance">
                <form>
                    <select/>
                    <select1/>
                </form>
            </xf:instance>
            <xf:instance id="items-instance">
                <items>
                    <item label="One" value="1"/>
                    <item label="Two" value="2"/>
                    <item label="Three" value="3"/>
                    <item label="Four" value="4"/>
                    <item label="Five" value="5"/>
                    <item label="Six" value="6"/>
                    <item label="Seven" value="7"/>
                    <item label="Eight" value="8"/>
                </items>
            </xf:instance>
        </xf:model>
        <xh:style type="text/css">
            .controls .xforms-select span { width: 5em; display: inline-block }
            .controls .xforms-select1 span { width: 5em; display: inline-block }
        </xh:style>
    </xh:head>
    <xh:body>

        <xh:div class="controls">
            <xh:h2>Single Selection</xh:h2>

            <xh:p>
                NOTE: This works just fine but in theory controls should show out-of-range conditions.
            </xh:p>

            <xf:group ref="select1">
                <xf:select1 ref="." appearance="full">
                    <xf:label/>
                    <xf:itemset ref="instance('items-instance')/item[position() ge 1 and position() le 3]">
                        <xf:label ref="@label"/>
                        <xf:value ref="@value"/>
                    </xf:itemset>
                </xf:select1>
                <xh:br/>
                <xf:select1 ref="." appearance="full">
                    <xf:label/>
                    <xf:itemset ref="instance('items-instance')/item[position() ge 4 and position() le 6]">
                        <xf:label ref="@label"/>
                        <xf:value ref="@value"/>
                    </xf:itemset>
                </xf:select1>
                <xh:br/>
                <xf:select1 ref="." appearance="full">
                    <xf:label/>
                    <xf:itemset ref="instance('items-instance')/item[position() ge 7 and position() le 9]">
                        <xf:label ref="@label"/>
                        <xf:value ref="@value"/>
                    </xf:itemset>
                </xf:select1>
            </xf:group>

            <xh:h2>Multiple Selection</xh:h2>

            <xh:p>
                NOTE: This doesn't work as selecting a value in a row clears values selected with other rows. Not sure
                what's the correct behavior as per the spec, so we sent emails to the public-forms mailing-list W3C to
                get some clarifications. The controls may also have to show out-of-range conditions.
            </xh:p>

            <xf:group ref="select">
                <xf:select ref="." appearance="full">
                    <xf:label/>
                    <xf:itemset ref="instance('items-instance')/item[position() ge 1 and position() le 3]">
                        <xf:label ref="@label"/>
                        <xf:value ref="@value"/>
                    </xf:itemset>
                </xf:select>
                <xh:br/>
                <xf:select ref="." appearance="full">
                    <xf:label/>
                    <xf:itemset ref="instance('items-instance')/item[position() ge 4 and position() le 6]">
                        <xf:label ref="@label"/>
                        <xf:value ref="@value"/>
                    </xf:itemset>
                </xf:select>
                <xh:br/>
                <xf:select ref="." appearance="full">
                    <xf:label/>
                    <xf:itemset ref="instance('items-instance')/item[position() ge 7 and position() le 9]">
                        <xf:label ref="@label"/>
                        <xf:value ref="@value"/>
                    </xf:itemset>
                </xf:select>
            </xf:group>
        </xh:div>

        <fr:xforms-inspector xmlns:fr="http://orbeon.org/oxf/xml/form-runner"/>

    </xh:body>
</xh:html>
